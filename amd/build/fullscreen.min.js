define("qtype_coderunner/fullscreen",["exports","core/notification"],(function(_exports,_notification){var obj;function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_notification=(obj=_notification)&&obj.__esModule?obj:{default:obj};class AceEditorFullscreenToggle extends class{constructor(questionId){_defineProperty(this,"questionDiv",void 0),_defineProperty(this,"fullScreenButton",void 0),_defineProperty(this,"exitFullscreenButton",void 0),this.questionDiv=document.getElementById(questionId)}getWrapperElement(){}saveCurrentEditorSize(){}resetEditorToSavedSize(){}initFullScreenToggle(fieldId){const wrapperEditor=this.getWrapperElement(fieldId),screenModeButton=this.questionDiv.querySelector(".screen-mode-button");wrapperEditor.append(screenModeButton),this.fullScreenButton=this.questionDiv.querySelector(".button-fullscreen"),this.exitFullscreenButton=this.questionDiv.querySelector(".button-exit-fullscreen"),this.fullScreenButton.classList.remove("d-none"),this.enterFullscreen(wrapperEditor),this.exitFullscreen()}enterFullscreen(wrapperEditor){this.fullScreenButton.addEventListener("click",(e=>{e.preventDefault(),this.saveCurrentEditorSize(wrapperEditor),this.fullScreenButton.classList.add("d-none"),wrapperEditor.addEventListener("fullscreenchange",(()=>{null===document.fullscreenElement?(this.resetEditorToSavedSize(wrapperEditor),this.exitFullscreenButton.classList.add("d-none"),this.fullScreenButton.classList.remove("d-none")):this.exitFullscreenButton.classList.remove("d-none")})),wrapperEditor.requestFullscreen().catch(_notification.default.exception)}))}exitFullscreen(){this.exitFullscreenButton.addEventListener("click",(e=>{e.preventDefault(),document.exitFullscreen()}))}}{constructor(questionId){super(questionId),_defineProperty(this,"editorSize",{})}getWrapperElement(fieldId){return document.getElementById("".concat(fieldId,"_wrapper"))}saveCurrentEditorSize(wrapperEditor){this.editorSize.wrapper=wrapperEditor.style.minHeight,this.editorSize.heightWraper=wrapperEditor.style.height,this.editorSize.editor=this.questionDiv.querySelector(".ace_editor").style.height,this.editorSize.content=this.questionDiv.querySelector(".ace_content").style.height}resetEditorToSavedSize(wrapperEditor){wrapperEditor.style.minHeight=this.editorSize.wrapper,wrapperEditor.style.height=this.editorSize.heightWraper,this.questionDiv.querySelector(".ace_editor").style.height=this.editorSize.editor,this.questionDiv.querySelector(".ace_content").style.height=this.editorSize.content}}_exports.init=(questionId,fieldId,uiPluginType)=>{let editorObject;switch(uiPluginType){case"ace":case"ace_gapfiller":editorObject=new AceEditorFullscreenToggle(questionId);break;default:return}editorObject.initFullScreenToggle(fieldId)}}));

//# sourceMappingURL=fullscreen.min.js.map